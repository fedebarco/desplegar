document.getElementById("mobile-menu-button")?.addEventListener("click",()=>{document.getElementById("mobile-menu")?.classList.toggle("hidden")});function d(){const r=JSON.parse(localStorage.getItem("cart")||"[]").reduce((t,a)=>t+a.quantity,0),e=document.getElementById("cart-count");e&&(e.textContent=r.toString())}d();window.addEventListener("cart-updated",d);document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".add-to-cart-btn").forEach(r=>{r.addEventListener("click",e=>{const t=e.target,a=parseInt(t.dataset.productId||"0"),s=t.dataset.productName||"",i=parseFloat(t.dataset.productPrice||"0"),u=t.dataset.productImage||"",n=JSON.parse(localStorage.getItem("cart")||"[]"),c=n.findIndex(g=>g.id===a);c>-1?n[c].quantity+=1:n.push({id:a,name:s,price:i,image:u,quantity:1}),localStorage.setItem("cart",JSON.stringify(n)),window.dispatchEvent(new CustomEvent("cart-updated")),t.textContent="Â¡Agregado!",t.classList.add("bg-green-600","hover:bg-green-700"),t.classList.remove("bg-primary-600","hover:bg-primary-700"),setTimeout(()=>{t.textContent="Agregar al carrito",t.classList.remove("bg-green-600","hover:bg-green-700"),t.classList.add("bg-primary-600","hover:bg-primary-700")},1500)})})});
